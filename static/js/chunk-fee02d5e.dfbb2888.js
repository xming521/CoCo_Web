(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fee02d5e"],{2547:function(e,t,n){},"2eca":function(e,t,n){"use strict";n("2547")},"47ac":function(e,t,n){(function(e){e(n("56b3"),n("76ae"))})((function(e){"use strict";var t="from",n=new RegExp("^(\\s*)\\b("+t+")\\b","i"),o=["run","cmd","entrypoint","shell"],r=new RegExp("^(\\s*)("+o.join("|")+")(\\s+\\[)","i"),a="expose",i=new RegExp("^(\\s*)("+a+")(\\s+)","i"),l=["arg","from","maintainer","label","env","add","copy","volume","user","workdir","onbuild","stopsignal","healthcheck","shell"],s=[t,a].concat(o).concat(l),c="("+s.join("|")+")",d=new RegExp("^(\\s*)"+c+"(\\s*)(#.*)?$","i"),u=new RegExp("^(\\s*)"+c+"(\\s+)","i");e.defineSimpleMode("dockerfile",{start:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:n,token:[null,"keyword"],sol:!0,next:"from"},{regex:d,token:[null,"keyword",null,"error"],sol:!0},{regex:r,token:[null,"keyword",null],sol:!0,next:"array"},{regex:i,token:[null,"keyword",null],sol:!0,next:"expose"},{regex:u,token:[null,"keyword",null],sol:!0,next:"arguments"},{regex:/./,token:null}],from:[{regex:/\s*$/,token:null,next:"start"},{regex:/(\s*)(#.*)$/,token:[null,"error"],next:"start"},{regex:/(\s*\S+\s+)(as)/i,token:[null,"keyword"],next:"start"},{token:null,next:"start"}],single:[{regex:/(?:[^\\']|\\.)/,token:"string"},{regex:/'/,token:"string",pop:!0}],double:[{regex:/(?:[^\\"]|\\.)/,token:"string"},{regex:/"/,token:"string",pop:!0}],array:[{regex:/\]/,token:null,next:"start"},{regex:/"(?:[^\\"]|\\.)*"?/,token:"string"}],expose:[{regex:/\d+$/,token:"number",next:"start"},{regex:/[^\d]+$/,token:null,next:"start"},{regex:/\d+/,token:"number"},{regex:/[^\d]+/,token:null},{token:null,next:"start"}],arguments:[{regex:/^\s*#.*$/,sol:!0,token:"comment"},{regex:/"(?:[^\\"]|\\.)*"?$/,token:"string",next:"start"},{regex:/"/,token:"string",push:"double"},{regex:/'(?:[^\\']|\\.)*'?$/,token:"string",next:"start"},{regex:/'/,token:"string",push:"single"},{regex:/[^#"']+[\\`]$/,token:null},{regex:/[^#"']+$/,token:null,next:"start"},{regex:/[^#"']+/,token:null},{token:null,next:"start"}],meta:{lineComment:"#"}}),e.defineMIME("text/x-dockerfile","dockerfile")}))},"685c":function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return s}));var o=n("b775");function r(e){return Object(o["a"])({url:"/image/pull",method:"get",params:e})}function a(e){return Object(o["a"])({url:"/image/getlist",method:"get",params:e})}function i(e){return Object(o["a"])({url:"/image/getname",method:"get",params:e})}function l(e){return Object(o["a"])({url:"/image/delete",method:"get",params:e})}function s(e){return Object(o["a"])({url:"/image/build",method:"get",params:e})}},"76ae":function(e,t,n){(function(e){e(n("56b3"))})((function(e){"use strict";function t(e,t){if(!e.hasOwnProperty(t))throw new Error("Undefined state "+t+" in simple mode")}function n(e,t){if(!e)return/(?:)/;var n="";return e instanceof RegExp?(e.ignoreCase&&(n="i"),e=e.source):e=String(e),new RegExp((!1===t?"":"^")+"(?:"+e+")",n)}function o(e){if(!e)return null;if(e.apply)return e;if("string"==typeof e)return e.replace(/\./g," ");for(var t=[],n=0;n<e.length;n++)t.push(e[n]&&e[n].replace(/\./g," "));return t}function r(e,r){(e.next||e.push)&&t(r,e.next||e.push),this.regex=n(e.regex),this.token=o(e.token),this.data=e}function a(e,t){return function(n,o){if(o.pending){var r=o.pending.shift();return 0==o.pending.length&&(o.pending=null),n.pos+=r.text.length,r.token}if(o.local){if(o.local.end&&n.match(o.local.end)){var a=o.local.endToken||null;return o.local=o.localState=null,a}var i;a=o.local.mode.token(n,o.localState);return o.local.endScan&&(i=o.local.endScan.exec(n.current()))&&(n.pos=n.start+i.index),a}for(var s=e[o.state],c=0;c<s.length;c++){var d=s[c],u=(!d.data.sol||n.sol())&&n.match(d.regex);if(u){d.data.next?o.state=d.data.next:d.data.push?((o.stack||(o.stack=[])).push(o.state),o.state=d.data.push):d.data.pop&&o.stack&&o.stack.length&&(o.state=o.stack.pop()),d.data.mode&&l(t,o,d.data.mode,d.token),d.data.indent&&o.indent.push(n.indentation()+t.indentUnit),d.data.dedent&&o.indent.pop();var p=d.token;if(p&&p.apply&&(p=p(u)),u.length>2&&d.token&&"string"!=typeof d.token){o.pending=[];for(var f=2;f<u.length;f++)u[f]&&o.pending.push({text:u[f],token:d.token[f-1]});return n.backUp(u[0].length-(u[1]?u[1].length:0)),p[0]}return p&&p.join?p[0]:p}}return n.next(),null}}function i(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=0;for(var o in e)if(e.hasOwnProperty(o)){if(!t.hasOwnProperty(o)||!i(e[o],t[o]))return!1;n++}for(var o in t)t.hasOwnProperty(o)&&n--;return 0==n}function l(t,o,r,a){var l;if(r.persistent)for(var s=o.persistentStates;s&&!l;s=s.next)(r.spec?i(r.spec,s.spec):r.mode==s.mode)&&(l=s);var c=l?l.mode:r.mode||e.getMode(t,r.spec),d=l?l.state:e.startState(c);r.persistent&&!l&&(o.persistentStates={mode:c,spec:r.spec,state:d,next:o.persistentStates}),o.localState=d,o.local={mode:c,end:r.end&&n(r.end),endScan:r.end&&!1!==r.forceEnd&&n(r.end,!1),endToken:a&&a.join?a[a.length-1]:a}}function s(e,t){for(var n=0;n<t.length;n++)if(t[n]===e)return!0}function c(t,n){return function(o,r,a){if(o.local&&o.local.mode.indent)return o.local.mode.indent(o.localState,r,a);if(null==o.indent||o.local||n.dontIndentStates&&s(o.state,n.dontIndentStates)>-1)return e.Pass;var i=o.indent.length-1,l=t[o.state];e:for(;;){for(var c=0;c<l.length;c++){var d=l[c];if(d.data.dedent&&!1!==d.data.dedentIfLineStart){var u=d.regex.exec(r);if(u&&u[0]){i--,(d.next||d.push)&&(l=t[d.next||d.push]),r=r.slice(u[0].length);continue e}}}break}return i<0?0:o.indent[i]}}e.defineSimpleMode=function(t,n){e.defineMode(t,(function(t){return e.simpleMode(t,n)}))},e.simpleMode=function(n,o){t(o,"start");var i={},l=o.meta||{},s=!1;for(var d in o)if(d!=l&&o.hasOwnProperty(d))for(var u=i[d]=[],p=o[d],f=0;f<p.length;f++){var g=p[f];u.push(new r(g,o)),(g.indent||g.dedent)&&(s=!0)}var m={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:s?[]:null}},copyState:function(t){var n={state:t.state,pending:t.pending,local:t.local,localState:null,indent:t.indent&&t.indent.slice(0)};t.localState&&(n.localState=e.copyState(t.local.mode,t.localState)),t.stack&&(n.stack=t.stack.slice(0));for(var o=t.persistentStates;o;o=o.next)n.persistentStates={mode:o.mode,spec:o.spec,state:o.state==t.localState?n.localState:e.copyState(o.mode,o.state),next:n.persistentStates};return n},token:a(i,n),innerMode:function(e){return e.local&&{mode:e.local.mode,state:e.localState}},indent:c(i,l)};if(l)for(var x in l)l.hasOwnProperty(x)&&(m[x]=l[x]);return m}}))},b714:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrap",attrs:{id:"app"}},["output-small"===e.log_display_id?n("el-row",[n("el-col",{attrs:{span:24}},[n("div",{staticClass:"content"},[n("div",{staticClass:"input-card",attrs:{id:"input"}},[n("div",{staticClass:"input_title"},[e._v(" DockerFile "),n("el-button",{attrs:{id:"run",type:"primary"},on:{click:e.submit_code}},[e._v("构建镜像")])],1),n("div",{staticClass:"input_area"},[n("div",{staticClass:"codemirror",attrs:{id:"editor"}},[n("codemirror",{attrs:{options:e.cmOption},on:{input:e.onCmCodeChange},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1)])])])])],1):e._e(),n("el-row",[n("div",{staticClass:"input-card",attrs:{id:e.log_display_id}},[n("div",{staticClass:"input_title"},[n("input",{attrs:{type:"button",value:"运行结果"}}),n("el-button",{attrs:{type:"primary",icon:"el-icon-arrow-up"},on:{click:e.log_display}})],1),n("div",{staticClass:"out_area",attrs:{id:"result"}},[e._v(e._s(e.response_info))])])])],1)},r=[],a=(n("d3b7"),n("8f94")),i=(n("a7be"),n("47ac"),n("cc10"),n("f6b6"),n("31c5"),n("10b2"),n("4ba6"),n("8c33"),n("7289"),n("2aed"),n("d72f"),n("b933"),n("0b6c"),n("9b74"),n("832b"),n("8822"),n("685c")),l=(n("cfa9"),n("83d6")),s={name:"create",components:{codemirror:a["codemirror"]},props:{},data:function(){var e=l.docker_filecode;return{code:e,response_info:"",envi_value:"",disable_appname:!1,log_display_id:"output-small",cmOption:{autoCloseBrackets:!0,tabSize:4,styleActiveLine:!0,lineNumbers:!0,line:!0,mode:"text/x-dockerfile",theme:"base16-light",matchBrackets:!0,lineWrapping:!0,lint:!0,hint:!0}}},created:function(){var e=this;this.socketIO.on("dockerfile_log",(function(t){var n=document.getElementById("result");n.scrollTop=88888888,console.log("msg",t),e.response_info=e.response_info+t.data,n.scrollTop=88888888}))},updated:function(){var e=document.getElementById("result");e.scrollTop=88888888},mounted:function(){},methods:{onCmCodeChange:function(e){this.code=e},log_display:function(){"output-small"===this.log_display_id?this.log_display_id="output-big":this.log_display_id="output-small"},submit_code:function(){var e=this;this.response_info="",Object(i["d"])({code:this.code}).then((function(e){})).catch((function(t){console.log(t),e.errored=!0})).finally((function(t){return e.loading=!1}))}}},c=s,d=(n("2eca"),n("2877")),u=Object(d["a"])(c,o,r,!1,null,"57e6f03c",null);t["default"]=u.exports}}]);